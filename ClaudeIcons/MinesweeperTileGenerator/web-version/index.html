<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minesweeper Tile Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 16px;
        }
        .subtitle {
            font-size: 18px;
            font-weight: bold;
            margin: 24px 0 12px;
        }
        .color-picker-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 24px;
        }
        .color-picker-item {
            width: calc(50% - 10px);
            min-width: 250px;
        }
        .color-label {
            font-weight: 500;
            margin-bottom: 8px;
        }
        .color-value {
            margin-top: 8px;
            font-family: monospace;
        }
        .tiles-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            justify-content: flex-start;
            margin-bottom: 32px;
        }
        .tile-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 120px;
        }
        .tile-label {
            margin-top: 8px;
            font-size: 14px;
            font-weight: 500;
            text-align: center;
        }
        .interactive-section {
            margin-top: 32px;
            border-top: 1px solid #eee;
            padding-top: 24px;
        }
        .interactive-row {
            display: flex;
            flex-wrap: wrap;
            gap: 32px;
        }
        .controls-container {
            flex: 1;
            min-width: 300px;
        }
        .controls-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
        }
        .switch-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        .switch-label {
            flex: 1;
        }
        .picker-container {
            margin: 16px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 8px;
        }
        .state-display {
            margin-top: 24px;
            padding: 12px;
            background-color: #f5f5f5;
            border-radius: 4px;
        }
        .state-title {
            font-weight: 500;
            margin-bottom: 8px;
        }
        .code {
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }
        .hint {
            margin-top: 12px;
            font-style: italic;
            font-size: 12px;
            color: #666;
        }
        .export-section {
            margin-top: 24px;
            margin-bottom: 32px;
            border-top: 1px solid #eee;
            padding-top: 16px;
        }
        .export-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        .export-buttons-row {
            display: flex;
            gap: 16px;
            margin-top: 16px;
        }
        .export-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            min-width: 120px;
            text-align: center;
        }
        .export-button:hover {
            background-color: #0069d9;
        }
        input[type="color"] {
            width: 100%;
            height: 40px;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px;
        }
        select {
            width: 100%;
            padding: 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        /* Toggle switch styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2196F3;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    </style>
</head>
<body>
    <div class="title">Minesweeper Tile Generator</div>
    
    <div class="color-picker-container">
        <div class="color-picker-item">
            <div class="color-label">Background Color:</div>
            <input type="color" id="background-color" value="#d8d8d8">
            <div class="color-value" id="background-color-value">#d8d8d8</div>
        </div>
        
        <div class="color-picker-item">
            <div class="color-label">Shadow/Border Color:</div>
            <input type="color" id="shadow-color" value="#555555">
            <div class="color-value" id="shadow-color-value">#555555</div>
        </div>
        
        <div class="color-picker-item">
            <div class="color-label">Highlight Color:</div>
            <input type="color" id="highlight-color" value="#ffffff">
            <div class="color-value" id="highlight-color-value">#ffffff</div>
        </div>
    </div>
    
    <div class="subtitle">Basic Tile States</div>
    <div class="tiles-grid" id="basic-tiles-grid">
        <!-- Will be populated with JS -->
    </div>
    
    <div class="subtitle">Number Tiles (1-8)</div>
    <div class="tiles-grid" id="number-tiles-grid">
        <!-- Will be populated with JS -->
    </div>
    
    <div class="subtitle">Flat Tiles (No Border)</div>
    <div class="tiles-grid" id="flat-tiles-grid">
        <!-- Will be populated with JS -->
    </div>
    
    <div class="subtitle">Interactive Demo</div>
    <div class="interactive-section">
        <div class="interactive-row">
            <div id="interactive-tile-container">
                <!-- Will be populated with JS -->
            </div>
            
            <div class="controls-container">
                <div class="controls-title">Toggle States:</div>
                
                <div class="switch-row">
                    <div class="switch-label">Pressed</div>
                    <label class="switch">
                        <input type="checkbox" id="toggle-pressed">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-row">
                    <div class="switch-label">Show Mine</div>
                    <label class="switch">
                        <input type="checkbox" id="toggle-mine">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-row">
                    <div class="switch-label">Unflagged Mine</div>
                    <label class="switch">
                        <input type="checkbox" id="toggle-unflagged-mine">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-row">
                    <div class="switch-label">Show Flag</div>
                    <label class="switch">
                        <input type="checkbox" id="toggle-flag">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="switch-row">
                    <div class="switch-label">No Border (Flat)</div>
                    <label class="switch">
                        <input type="checkbox" id="toggle-no-border">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div>
                    <div class="switch-label">Digit (1-8):</div>
                    <div class="picker-container">
                        <select id="digit-picker">
                            <option value="">None</option>
                            <option value="1">1 (Blue)</option>
                            <option value="2">2 (Green)</option>
                            <option value="3">3 (Red)</option>
                            <option value="4">4 (Dark Blue)</option>
                            <option value="5">5 (Maroon)</option>
                            <option value="6">6 (Teal)</option>
                            <option value="7">7 (Black)</option>
                            <option value="8">8 (Gray)</option>
                        </select>
                    </div>
                </div>
                
                <div class="state-display">
                    <div class="state-title">Current State:</div>
                    <div class="code" id="state-code"></div>
                </div>
                
                <div class="hint">
                    Click on the tile to toggle pressed state, or use the controls
                </div>
            </div>
        </div>
        
        <div class="export-section">
            <div class="export-title">Export Current Tile</div>
            <div>Save the current tile configuration for use in your app</div>
            
            <div class="export-buttons-row">
                <button class="export-button" id="export-png">Export as PNG</button>
                <button class="export-button" id="export-svg">Export as SVG</button>
            </div>
        </div>
    </div>

    <script>
        // State management
        const state = {
            backgroundColor: '#d8d8d8',
            shadowColor: '#555555',
            highlightColor: '#ffffff',
            interactiveState: {
                pressed: false,
                showMine: false,
                showFlag: false,
                unflaggedMine: false,
                noBorder: false,
                digit: null
            }
        };

        // Color picker event handlers
        document.getElementById('background-color').addEventListener('input', function(e) {
            state.backgroundColor = e.target.value;
            document.getElementById('background-color-value').textContent = e.target.value;
            refreshAllTiles();
        });

        document.getElementById('shadow-color').addEventListener('input', function(e) {
            state.shadowColor = e.target.value;
            document.getElementById('shadow-color-value').textContent = e.target.value;
            refreshAllTiles();
        });

        document.getElementById('highlight-color').addEventListener('input', function(e) {
            state.highlightColor = e.target.value;
            document.getElementById('highlight-color-value').textContent = e.target.value;
            refreshAllTiles();
        });

        // Toggle event handlers
        document.getElementById('toggle-pressed').addEventListener('change', function(e) {
            state.interactiveState.pressed = e.target.checked;
            refreshInteractiveTile();
        });

        document.getElementById('toggle-mine').addEventListener('change', function(e) {
            state.interactiveState.showMine = e.target.checked;
            if (e.target.checked) {
                state.interactiveState.digit = null;
                state.interactiveState.showFlag = false;
                state.interactiveState.unflaggedMine = false;
                document.getElementById('toggle-flag').checked = false;
                document.getElementById('toggle-unflagged-mine').checked = false;
                document.getElementById('digit-picker').value = '';
            }
            refreshInteractiveTile();
        });
        
        document.getElementById('toggle-unflagged-mine').addEventListener('change', function(e) {
            state.interactiveState.unflaggedMine = e.target.checked;
            if (e.target.checked) {
                state.interactiveState.digit = null;
                state.interactiveState.showFlag = false;
                state.interactiveState.showMine = false;
                document.getElementById('toggle-flag').checked = false;
                document.getElementById('toggle-mine').checked = false;
                document.getElementById('digit-picker').value = '';
            }
            refreshInteractiveTile();
        });

        document.getElementById('toggle-flag').addEventListener('change', function(e) {
            state.interactiveState.showFlag = e.target.checked;
            if (e.target.checked) {
                state.interactiveState.digit = null;
                state.interactiveState.showMine = false;
                state.interactiveState.unflaggedMine = false;
                document.getElementById('toggle-mine').checked = false;
                document.getElementById('toggle-unflagged-mine').checked = false;
                document.getElementById('digit-picker').value = '';
            }
            refreshInteractiveTile();
        });

        document.getElementById('toggle-no-border').addEventListener('change', function(e) {
            state.interactiveState.noBorder = e.target.checked;
            refreshInteractiveTile();
        });

        document.getElementById('digit-picker').addEventListener('change', function(e) {
            state.interactiveState.digit = e.target.value || null;
            if (e.target.value) {
                state.interactiveState.showMine = false;
                state.interactiveState.showFlag = false;
                state.interactiveState.unflaggedMine = false;
                document.getElementById('toggle-mine').checked = false;
                document.getElementById('toggle-flag').checked = false;
                document.getElementById('toggle-unflagged-mine').checked = false;
            }
            refreshInteractiveTile();
        });

        // Click handler for interactive tile
        document.addEventListener('DOMContentLoaded', function() {
            const interactiveTileContainer = document.getElementById('interactive-tile-container');
            interactiveTileContainer.addEventListener('click', function() {
                state.interactiveState.pressed = !state.interactiveState.pressed;
                document.getElementById('toggle-pressed').checked = state.interactiveState.pressed;
                refreshInteractiveTile();
            });
        });

        // Export handlers
        document.getElementById('export-png').addEventListener('click', function() {
            exportAsPNG();
        });

        document.getElementById('export-svg').addEventListener('click', function() {
            exportAsSVG();
        });

        // Generate a tile SVG based on props
        function generateTileSVG(props) {
            const {
                pressed = false,
                showMine = false,
                showFlag = false,
                noBorder = false,
                digit = null,
                width = 100,
                height = 100
            } = props;

            let svgContent = `
                <svg width="${width}" height="${height}" viewBox="0 0 100 100">
                    <!-- Outer frame -->
                    <path d="M5,5 L95,5 L95,95 L5,95 Z" fill="#888888" />
                    
                    <!-- Main tile face -->
                    <path d="M10,10 L90,10 L90,90 L10,90 Z" fill="${state.backgroundColor}" />
            `;

            // Simple 1px border for no-border mode
            if (noBorder) {
                svgContent += `
                    <rect x="5" y="5" width="90" height="90" fill="none" stroke="${state.shadowColor}" stroke-width="1" />
                `;
            } else {
                // Highlight edges (top-left)
                svgContent += `
                    <path d="M5,5 L95,5 L90,10 L10,10 Z" fill="${pressed ? state.shadowColor : state.highlightColor}" />
                    <path d="M5,5 L10,10 L10,90 L5,95 Z" fill="${pressed ? state.shadowColor : state.highlightColor}" />
                `;

                // Shadow edges (bottom-right)
                svgContent += `
                    <path d="M10,90 L90,90 L95,95 L5,95 Z" fill="${pressed ? state.highlightColor : state.shadowColor}" />
                    <path d="M90,10 L95,5 L95,95 L90,90 Z" fill="${pressed ? state.highlightColor : state.shadowColor}" />
                `;
            }

            // Mine components
            if (showMine) {
                svgContent += `
                    <g>
                        <!-- Glow effect -->
                        <circle cx="50" cy="50" r="30" fill="#ff0000" opacity="0.2" />
                        
                        <!-- Mine body -->
                        <circle cx="50" cy="50" r="15" fill="#333333" />
                        
                        <!-- Mine spikes -->
                        <path d="M50,20 L50,80" stroke="#333333" stroke-width="4" />
                        <path d="M20,50 L80,50" stroke="#333333" stroke-width="4" />
                        <path d="M29.3,29.3 L70.7,70.7" stroke="#333333" stroke-width="4" />
                        <path d="M29.3,70.7 L70.7,29.3" stroke="#333333" stroke-width="4" />
                        
                        <!-- Mine highlights -->
                        <circle cx="45" cy="45" r="4" fill="#ffffff" />
                    </g>
                `;
            }
            
            // Unflagged Mine components (mine without red background)
            if (props.unflaggedMine) {
                svgContent += `
                    <g>
                        <!-- Mine body -->
                        <circle cx="50" cy="50" r="15" fill="#333333" />
                        
                        <!-- Mine spikes -->
                        <path d="M50,20 L50,80" stroke="#333333" stroke-width="4" />
                        <path d="M20,50 L80,50" stroke="#333333" stroke-width="4" />
                        <path d="M29.3,29.3 L70.7,70.7" stroke="#333333" stroke-width="4" />
                        <path d="M29.3,70.7 L70.7,29.3" stroke="#333333" stroke-width="4" />
                        
                        <!-- Mine highlights -->
                        <circle cx="45" cy="45" r="4" fill="#ffffff" />
                    </g>
                `;
            }

            // Flag components
            if (showFlag) {
                svgContent += `
                    <g>
                        <rect x="45" y="25" width="5" height="50" fill="#333333" />
                        <path d="M50,25 L75,35 L50,45 Z" fill="#ff0000" />
                    </g>
                `;
            }

            // Digit components (1-8)
            if (digit) {
                const digitColor = 
                    digit === '1' ? '#0000ff' : // Blue
                    digit === '2' ? '#008000' : // Green
                    digit === '3' ? '#ff0000' : // Red
                    digit === '4' ? '#000080' : // Dark Blue
                    digit === '5' ? '#800000' : // Maroon
                    digit === '6' ? '#008080' : // Teal
                    digit === '7' ? '#000000' : // Black
                    digit === '8' ? '#808080' : // Gray
                    '#000000';  // Default

                svgContent += `
                    <text x="50" y="65" font-size="45" font-weight="bold" text-anchor="middle" fill="${digitColor}">${digit}</text>
                `;
            }

            svgContent += `</svg>`;
            return svgContent;
        }

        // Initialize basic tiles grid
        function initBasicTilesGrid() {
            const grid = document.getElementById('basic-tiles-grid');
            grid.innerHTML = '';
            
            const basicTiles = [
                { props: { pressed: false }, label: 'Normal Tile' },
                { props: { pressed: true }, label: 'Pressed Tile' },
                { props: { showFlag: true }, label: 'Flagged Tile' },
                { props: { pressed: true, showMine: true }, label: 'Revealed Mine' },
                { props: { pressed: true, unflaggedMine: true }, label: 'Unflagged Mine' }
            ];
            
            basicTiles.forEach(tile => {
                const container = document.createElement('div');
                container.className = 'tile-container';
                container.innerHTML = generateTileSVG(tile.props);
                
                const label = document.createElement('div');
                label.className = 'tile-label';
                label.textContent = tile.label;
                container.appendChild(label);
                
                grid.appendChild(container);
            });
        }

        // Initialize number tiles grid
        function initNumberTilesGrid() {
            const grid = document.getElementById('number-tiles-grid');
            grid.innerHTML = '';
            
            for (let num = 1; num <= 8; num++) {
                const container = document.createElement('div');
                container.className = 'tile-container';
                container.innerHTML = generateTileSVG({
                    pressed: true,
                    digit: num.toString()
                });
                
                const label = document.createElement('div');
                label.className = 'tile-label';
                label.textContent = `Number ${num}`;
                container.appendChild(label);
                
                grid.appendChild(container);
            }
        }

        // Initialize flat tiles grid
        function initFlatTilesGrid() {
            const grid = document.getElementById('flat-tiles-grid');
            grid.innerHTML = '';
            
            const flatTiles = [
                { props: { noBorder: true }, label: 'Flat Tile' },
                { props: { pressed: true, noBorder: true }, label: 'Pressed Flat' },
                { props: { pressed: true, digit: '3', noBorder: true }, label: 'Number 3 Flat' },
                { props: { pressed: true, showMine: true, noBorder: true }, label: 'Mine Flat' }
            ];
            
            flatTiles.forEach(tile => {
                const container = document.createElement('div');
                container.className = 'tile-container';
                container.innerHTML = generateTileSVG(tile.props);
                
                const label = document.createElement('div');
                label.className = 'tile-label';
                label.textContent = tile.label;
                container.appendChild(label);
                
                grid.appendChild(container);
            });
        }

        // Update the interactive tile
        function refreshInteractiveTile() {
            const container = document.getElementById('interactive-tile-container');
            container.innerHTML = generateTileSVG({
                width: 150,
                height: 150,
                ...state.interactiveState
            });
            
            // Update state code display
            const stateCodeDisplay = document.getElementById('state-code');
            stateCodeDisplay.textContent = `<svg class="mine-tile"${state.interactiveState.pressed ? ' pressed="true"' : ''}${state.interactiveState.showMine ? ' show-mine="true"' : ''}${state.interactiveState.unflaggedMine ? ' unflagged-mine="true"' : ''}${state.interactiveState.showFlag ? ' show-flag="true"' : ''}${state.interactiveState.noBorder ? ' no-border="true"' : ''}${state.interactiveState.digit ? ` digit="${state.interactiveState.digit}"` : ''}>`;
        }

        // Refresh all tiles when colors change
        function refreshAllTiles() {
            initBasicTilesGrid();
            initNumberTilesGrid();
            initFlatTilesGrid();
            refreshInteractiveTile();
        }

        // Export the current tile as PNG
        function exportAsPNG() {
            const svg = document.querySelector('#interactive-tile-container svg');
            const serializedSvg = new XMLSerializer().serializeToString(svg);
            
            const canvas = document.createElement('canvas');
            canvas.width = 300;  // Higher resolution
            canvas.height = 300;
            
            const ctx = canvas.getContext('2d');
            const img = new Image();
            img.onload = function() {
                ctx.drawImage(img, 0, 0, 300, 300);
                
                // Create a download link
                const link = document.createElement('a');
                link.href = canvas.toDataURL('image/png');
                link.download = 'minesweeper-tile.png';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                alert('Tile exported as PNG');
            };
            
            img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(serializedSvg)));
        }

        // Export the current tile as SVG
        function exportAsSVG() {
            // Generate SVG code based on current settings
            const svgCode = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100">
  <style>
    .tile-face { fill: ${state.backgroundColor}; }
    .highlight-top { fill: ${state.interactiveState.pressed ? state.shadowColor : state.highlightColor}; }
    .highlight-left { fill: ${state.interactiveState.pressed ? state.shadowColor : state.highlightColor}; }
    .shadow-bottom { fill: ${state.interactiveState.pressed ? state.highlightColor : state.shadowColor}; }
    .shadow-right { fill: ${state.interactiveState.pressed ? state.highlightColor : state.shadowColor}; }
    .simple-border { stroke: ${state.shadowColor}; stroke-width: 1; }
    @keyframes pulse {
      0% { opacity: 0.3; }
      50% { opacity: 1; }
      100% { opacity: 0.3; }
    }
    .mine-glow { animation: pulse 2s infinite; }
  </style>

  <!-- Outer frame -->
  <path d="M5,5 L95,5 L95,95 L5,95 Z" fill="#888888" />
  
  <!-- Main tile face -->
  <path d="M10,10 L90,10 L90,90 L10,90 Z" fill="${state.backgroundColor}" />
  
  ${state.interactiveState.noBorder ? `<rect x="5" y="5" width="90" height="90" fill="none" stroke="${state.shadowColor}" stroke-width="1" />` : ''}
  
  ${!state.interactiveState.noBorder ? `<!-- Highlight edges (top-left) -->
  <path d="M5,5 L95,5 L90,10 L10,10 Z" fill="${state.interactiveState.pressed ? state.shadowColor : state.highlightColor}" />
  <path d="M5,5 L10,10 L10,90 L5,95 Z" fill="${state.interactiveState.pressed ? state.shadowColor : state.highlightColor}" />
  
  <!-- Shadow edges (bottom-right) -->
  <path d="M10,90 L90,90 L95,95 L5,95 Z" fill="${state.interactiveState.pressed ? state.highlightColor : state.shadowColor}" />
  <path d="M90,10 L95,5 L95,95 L90,90 Z" fill="${state.interactiveState.pressed ? state.highlightColor : state.shadowColor}" />` : ''}
  
  ${state.interactiveState.showMine ? `<!-- Mine components -->
  <g>
    <!-- Glow effect -->
    <circle cx="50" cy="50" r="30" fill="#ff0000" opacity="0.2" class="mine-glow" />
    
    <!-- Mine body -->
    <circle cx="50" cy="50" r="15" fill="#333333" />
    
    <!-- Mine spikes -->
    <path d="M50,20 L50,80" stroke="#333333" stroke-width="4" />
    <path d="M20,50 L80,50" stroke="#333333" stroke-width="4" />
    <path d="M29.3,29.3 L70.7,70.7" stroke="#333333" stroke-width="4" />
    <path d="M29.3,70.7 L70.7,29.3" stroke="#333333" stroke-width="4" />
    
    <!-- Mine highlights -->
    <circle cx="45" cy="45" r="4" fill="#ffffff" />
  </g>` : ''}
  
  ${state.interactiveState.unflaggedMine ? `<!-- Unflagged Mine components -->
  <g>
    <!-- Mine body -->
    <circle cx="50" cy="50" r="15" fill="#333333" />
    
    <!-- Mine spikes -->
    <path d="M50,20 L50,80" stroke="#333333" stroke-width="4" />
    <path d="M20,50 L80,50" stroke="#333333" stroke-width="4" />
    <path d="M29.3,29.3 L70.7,70.7" stroke="#333333" stroke-width="4" />
    <path d="M29.3,70.7 L70.7,29.3" stroke="#333333" stroke-width="4" />
    
    <!-- Mine highlights -->
    <circle cx="45" cy="45" r="4" fill="#ffffff" />
  </g>` : ''}
  
  ${state.interactiveState.showFlag ? `<!-- Flag components -->
  <g>
    <rect x="45" y="25" width="5" height="50" fill="#333333" />
    <path d="M50,25 L75,35 L50,45 Z" fill="#ff0000" />
  </g>` : ''}
  
  ${state.interactiveState.digit ? `<!-- Digit -->
  <text x="50" y="65" font-size="45" font-weight="bold" text-anchor="middle" fill="${
    state.interactiveState.digit === '1' ? "#0000ff" : // Blue
    state.interactiveState.digit === '2' ? "#008000" : // Green
    state.interactiveState.digit === '3' ? "#ff0000" : // Red
    state.interactiveState.digit === '4' ? "#000080" : // Dark Blue
    state.interactiveState.digit === '5' ? "#800000" : // Maroon
    state.interactiveState.digit === '6' ? "#008080" : // Teal
    state.interactiveState.digit === '7' ? "#000000" : // Black
    state.interactiveState.digit === '8' ? "#808080" : // Gray
    "#000000" // Default
  }">${state.interactiveState.digit}</text>` : ''}
</svg>`;
            
            // Copy to clipboard
            navigator.clipboard.writeText(svgCode)
                .then(() => {
                    console.log('SVG code copied to clipboard!');
                })
                .catch(err => {
                    console.error('Failed to copy SVG: ' + err);
                });
            
            // Create a download link
            const blob = new Blob([svgCode], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'minesweeper-tile.svg';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            alert('SVG code copied to clipboard and download started');
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            initBasicTilesGrid();
            initNumberTilesGrid();
            initFlatTilesGrid();
            refreshInteractiveTile();
        });
    </script>
</body>
</html>
